# My3BigWorkout - 너의 3대는
------------
## 1. 프로젝트 계획 의도
> 혼자서 헬스를 진행할 때 그날 그날의 수행 결과와 피드백을 핸드폰의 메모장에 저장해왔습니다. 이 방식은 그날 그날 원하는 운동이 다르기 때문에 운동을 할 때마다 새로이 작성해야 하고, 저번 운동에서의 피드백을 보고 싶으면 메모장을 찾아 들어가야 하는 불편함이 있었습니다. 자신만의 헬스 루틴을 작성하고, 이를 양식처럼 사용하여 편하게 운동 루틴을 불러와 기록을 하고, 작성했던 피드백을 다음 운동 때 자동으로 불러와 줄 수 있다면 편하겠다는 생각을 하게 되어 프로젝트를 계획하게 되었습니다.

>※ 프로젝트는 '드림 코딩 - Node.js' 강의를 들으며 진행한 프로젝트의 큰 틀을 따라갑니다.
------------
## 2. 요구사항
> ### 2.1. 회원가입, 로그인 기능
> > * 회원 가입 과정에서 이름, 나이, 아이디, 비밀번호, 키, 몸무게, 3대(벤치프레스, 데드리프트, 스쿼트) 1RM을 입력
> > * bcrypt로 비밀번호 암호화. 인증 수단으로 jwt(Json Web Token) 사용
> ### 2.2. 헬스 루틴 관리
> > #### 2.2.1. Create
> > > * 헬스 루틴을 운동 종목별 수행 무게, 횟수를 입력하여 헬스 루틴을 생성
> > #### 2.2.2. Read / Update / Delete
> ### 2.3. 헬스 일지 관리
> > #### 2.3.1. Create - 운동 진행
> > > * 운동을 진행할 때 헬스 일지 작성
> > > * 작성한 헬스 루틴을 불러오거나, 루틴 없이 커스텀 운동을 진행할 수 있음
> > > * 진행한 운동, 실제로 진행한 수행 무게, 횟수, 피드백을 작성
> > > * 불러왔던 운동 루틴을 수정하여 사용 가능(운동 루틴 수정기능과 동일) 
> > > * 운동을 완료하면 작성한 헬스 일지를 저장
> > > * 운동 시작 버튼을 누른 시점에서 운동 종료 버튼을 누른 시점까지의 운동 시간 저장
> > #### 2.3.2. Read
> > > * 작성한 운동 일지를 조회
> > > * 날짜별로 조회 or 운동별로 조회
> > #### 2.3.3. Update
> > > * 날짜별 조회 화면에서 진행했던 운동의 일지 수정 가능
> > #### 2.3.4. Delete
> > > * 날짜별 조회 화면에서 진행했던 운동의 일지 삭제 가능
> ### 2.4. 운동 종목 DB
> > > * 운동 이름, 운동 타입, 주동근을 저장
> > > * 운동 종목 DB는 헬스 루틴 관리 & 운동 진행 & 운동 일지를 운동 종목별로 조회하는 데 사용
------------
## 4. 개발 Log
> #### 21.08.25 : Express 환경 구성, app.js와 기본 미들웨어 구성
> #### 08.30 ~ 09.01 : auth Router 생성, Sign Up 기능 구현
> > * jwt, bcrypt 라이브러리 추가, request - response 정상 동작 확인 후 MVC 패턴에 맞게 리팩토링
> #### 09.02 : 로그인 및 로그인 인증 기능 구현
> #### 09.08 : 보안, 설정값 처리
> > * dotenv, cors 라이브러리 추가.  ※ To-Do : cors는 아직 어디서 어떻게 적용되는지 모름. 공부 필요
> > * .env파일에 secret key 및 설정값 저장
> #### 09.08 ~ 09.10 : 헬스 루틴 CRUD 구현
> #### 09.23 : 운동 진행의 GET, POST 구현
> #### 09.30 : 헬스 루틴 기능 수정, DB 설계
> > * 헬스 루틴 수정 로직에서 루틴의 이름 변경 기능 추가
> > * 운동 기록 방식이 운동 종류에 따라 상이하기 때문에 Schema가 정해지지 않은 NoSQL - MongoDB 사용
> > * User와 Routine DB는 1:N 관계. 추후에 헬스 루틴 공유 기능을 고려하여 child referencing
> > * User와 Diary DB는 1:N 관계.
> #### 10.01 : User DB 적용
> #### 10.01 : Wolist DB 적용, /manage url 추가
> > * wolist : 운동 종류에 대한 DB.
> > * /manage : 개발자 및 DB 관리자 전용 url.  ※ To-Do : 관리자에 대한 authentication 추가 필요.
> > * /manage/addworkout : 해당 url으로 wolist DB에 운동 추가.
> #### 10.01 : 헬스 루틴의 Create 수정
> > * /routine/create : wolist DB를 Find ALL 하여 데이터 전송.
> #### 10.05 : Routine DB 적용(CREATE, UPDATE)
> #### 10.06 ~ 10.07 : Routine DB 적용(READ, DELETE) 및 리팩토링
> #### 10.10 ~ 10.11 : Diary DB 적용, 운동 일지의 날짜별 GET 구현
> #### 10.12 ~ 10.14: /diary의 query validate 구현, 운동 일지의 운동별 GET 구현
> > * 날짜 범위에 맞도록 validate
> #### 전체 코드 리팩토링
> > * url Rest API에 맞게 리팩토링
> > > 동사는 빼고 http Method 활용
> > > 명사는 collection의 경우 복수, 혹은 고유명사 
> > > 특정 조견의 경우 query or param이용
> > * DB 결과 data 가공해서 response
> #### wolist도 diary와 ref 관계 설정해서 id값으로 query 설정하도록 수정
> #### auth에서 controller로 넘어간 validate를 router 쪽으로 옮길 수 있을듯(custom validator)
> #### 운동 진행 기능 추가 : 운동 DB 설계 완료 후 커스텀 운동 기능 추가.
> #### 운동 일지 조회 구현 : 운동별 조회 구현
> #### 프론트엔드 적용 : 필수 UI만 적용. 편의성은 추후 업데이트

------------
## 5. 추가 아이디어 / 추후 업데이트
> * 작성했던 피드백은 다음번 동일한 운동 종목으로 운동 진행할 때 자동으로 화면에 띄워줌
> * 운동 진행중 일시정지 버튼으로 일시정지 가능. 일시정지 동안은 운동 시간을 재지 않음
> * 헬스 루틴 작성 시 쉬는시간을 설정하면, 운동 진행 중 세트 종료 이벤트가 발생했을 때 자동으로 타이머가 쉬는시간에 맞추어 작동하도록 기능 구현
> * 헬스 진행중 헬스 루틴을 수정하였거나, 세부 수행 정도가 변경되었을 때, 변경사항을 일지 저장과 함께 가능하도록 해주는 기능 구현
